web: bash -c 'echo "========================================"; echo "ðŸš€ Starting application initialization"; echo "========================================"; echo ""; echo "Step 1: Clearing caches..."; rm -rf bootstrap/cache/* storage/framework/cache/* storage/framework/views/* 2>/dev/null; echo "âœ“ Caches cleared"; echo ""; echo "Step 2: Setting file permissions..."; chmod -R 775 storage bootstrap/cache; echo "âœ“ Permissions set"; echo ""; echo "Step 3: Checking environment variables..."; echo "DB_CONNECTION: $(printenv DB_CONNECTION)"; echo "DB_HOST: $(printenv DB_HOST)"; echo "DB_DATABASE: $(printenv DB_DATABASE)"; echo "DB_USERNAME: $(printenv DB_USERNAME)"; echo "APP_ENV: $(printenv APP_ENV)"; echo ""; echo "Step 4: Regenerating config cache..."; php artisan config:cache --force 2>&1; echo "âœ“ Config cache regenerated"; echo ""; echo "Step 5: Running migrations..."; php artisan migrate --force --no-interaction 2>&1; echo "âœ“ Migrations completed"; echo ""; echo "========================================"; echo "âœ… Initialization complete!"; echo "Starting Apache..."; echo "========================================"; echo ""; vendor/bin/heroku-php-apache2 public/'
